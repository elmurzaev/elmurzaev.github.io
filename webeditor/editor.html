<!DOCTYPE html>
<html>
<head>
    <title>HTML Editor</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="lib/codemirror.css">
    <link rel="stylesheet" href="addon/dialog/dialog.css">
    <script src="lib/codemirror.js"></script>
    <script src="mode/htmlmixed.js"></script>
    <script src="mode/css.js"></script>
    <script src="mode/javascript.js"></script>
    <script src="mode/xml.js"></script>
    <script src="addon/active-line.js"></script>
    <script src="addon/search/search.js"></script>
    <script src="addon/search/searchcursor.js"></script>
    <script src="addon/search/jump-to-line.js"></script>
    <script src="addon/dialog/dialog.js"></script>
    <style>
        .CodeMirror {
            height: 100vh;
            width: 100vw;
        }
    </style>
</head>
<body style="margin: 0px 0px 0px 0px;">
<script>
    editor = CodeMirror(document.body, {
        value: Client.getHtml(),
        mode: "htmlmixed",
        lineNumbers: true,
        fixedGutter: false,
        styleActiveLine: true,
        inputStyle: "textarea",
        pollInterval: 300,
        autocorrect: false,
        autocapitalize: false
    })
    editor.refresh = Client.hideProgress()

    function apply() {
        Client.apply(editor.getValue())
    }
</script>
</body>
</html>
